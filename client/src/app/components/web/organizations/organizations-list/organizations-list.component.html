<div class="container">
	<h1 translate>ORGANIZATIONS.NAME</h1>
	<p-dropdown [options]="views" [(ngModel)]="selectedView"></p-dropdown>
	<div *ngIf="selectedView" class="ui-g">
		<div class="ui-sm-12 ui-md-6 ui-lg-4" *ngFor="let org of orgs; let i = index" (mouseenter)="setHover(org.title, i)" (mouseleave)="unsetHover(org.title, i)">
			<div class="card" routerLink="/datos/publicadores/{{org.name}}" (click)="showOrg(org)">
				<img class="card-img-top" src="../../../../assets/logoDGA.png" alt="Card image cap" width="fit-content" height="70" style="margin: 10px;">
				<div class="card-block" style="font-size: 15px; margin: 10; padding: 10px; height: 70px; background-color: darkslategray; color: white;">
					<p>{{org.title}}</p>
				</div>
				<div *ngIf="hovers[i].hover" class="detail bg-faded" style="position: absolute; width: 100%; height: 100%; padding: 10px;">
					<h6>{{org.title | uppercase}}</h6>
					<p class="description">{{org.description}}</p>
					<div class="numDatasets">
						<b translate [translateParams]="{packages: org.packages}">ORGANIZATIONS.PUBLISHED_DATASETS</b>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div *ngIf="!selectedView" class="tabla">
		<p-dataTable [value]="orgs" (onRowSelect)="showOrg(rowData)">
			<p-column field="orgName" header="{{ 'ORGANIZATIONS.TOTAL_ORGANIZATIONS_1' | translate }} {{orgs.length}} {{ 'ORGANIZATIONS.TOTAL_ORGANIZATIONS_2' | translate }}">
				<ng-template pTemplate="body" let-org="rowData" let-i="rowIndex">
					<a routerLink='/datos/publicadores/{{org.name}}' (click)="showOrg(org)">
					  {{org.title}}
				  </a>
				</ng-template>
			</p-column>
			<p-column field="numDatasets" [style]="{'width':'150px'}" styleClass="text-right" header="{{ 'ORGANIZATIONS.DATASETS_NUMBER' | translate }}">
				<ng-template pTemplate="body" let-org="rowData">
					{{org.packages}}
				</ng-template>
			</p-column>
		</p-dataTable>
	</div>
</div>