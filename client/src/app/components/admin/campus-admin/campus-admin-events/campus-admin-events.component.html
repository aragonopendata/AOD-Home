<div class="container" style="padding-left: 15%; padding-right: 15%;">
    <p-dataTable [paginator]="true" [rows]="10" [value]="events" emptyMessage="{{emptyMessage}}">
        <p-column field="name" [style]="{'width':'55%'}" header="Lista de eventos"></p-column>
        <p-column header="edit" header="Edici칩n" [style]="{'width':'6%', 'text-align': 'center'}">
            <ng-template pTemplate="body" let-event="rowData">
                <button class="btn btn-primary p-2" type="button" (click)="showDialog(event)" data-toggle="tooltip" data-placement="top"
                    title="Editar">
                    <i class="fa fa-edit"></i>
                </button>
            </ng-template>
        </p-column>
        <p-footer>
            <div class="ui-helper-clearfix" style="width:100%">
                <button class="btn btn-primary" type="button" icon="fa-plus" (click)="addEvent()" style="float:left">
                    <i class="fa fa-plus"></i> A침ade un evento nuevo
                </button>
            </div>
        </p-footer>
    </p-dataTable>
</div>
<p-dialog [width]="900" [(visible)]="display">
    <p-header>{{eventSelected ? eventSelected.name : 'Nuevo evento'}}</p-header>
    <div class="container">
        <div class="form-group row">
            <label class="col-4 col-form-label">Nombre del evento</label>
            <div class="col-8">
                <input class="form-control" type="text" value="{{eventSelected.name}}" id="name" [(ngModel)]="eventSelected.name">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-4 col-form-label">Descripci칩n</label>
            <div class="col-8">
                <textarea style="width: 100%; height: 100px;" type="text" value="{{eventSelected.description}}" id="desc" [(ngModel)]="eventSelected.description"></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-4 col-form-label">Localizaci칩n del evento</label>
            <div class="col-8">
                <select class="form-control" [(ngModel)]="eventSelected.site">
                    <option *ngFor="let site of sites">{{site.name}}</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-4 col-form-label">Contenidos del evento</label>
            <div class="col-8">
                <mat-list>
                    <mat-list-item *ngFor="let content of contentsPaginated">
                        <span class="fa fa-angle-double-right">
                            {{content.title}}
                        </span>
                    </mat-list-item>
                </mat-list>
                <p-paginator [alwaysShow]="false" rows="3" [totalRecords]="totalRecords" (onPageChange)="paginate($event)" #p></p-paginator>
            </div>
        </div>
        <!--<div class="form-group row">
          <label class="col-4 col-form-label">Fecha</label>
          <div class="col-8">
              <mat-form-field>
                    <input matInput value="{{eventSelected.date}}" [matDatepicker]="picker" placeholder="Choose a date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker [startAt]="eventSelected.date"></mat-datepicker>
                </mat-form-field>
                <input value="{{eventSelected.date}}" [matDatepicker]="myDatepicker" [(ngModel)]="eventSelected.date">
                <mat-datepicker-toggle [for]="myDatepicker"></mat-datepicker-toggle>
                    <mat-datepicker #myDatepicker>
                </mat-datepicker>
          </div>
        </div>-->
    </div>
    <p-footer>
        <button type="button" pButton icon="fa-floppy-o" (click)="save(eventSelected);" label="Guardar"></button>
        <button type="button" pButton icon="fa-times" style="background-color: red; border-color: red;" (click)="cancel($event);"
            label="Cancelar"></button>
    </p-footer>
</p-dialog>